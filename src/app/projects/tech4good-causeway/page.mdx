import ImageSlider from '../../../components/ImageSlider'
import LandingImage from '../../../../public/projects/causeway/landing.png'
import Landing2Image from '../../../../public/projects/causeway/landing-2.png'
import IntroToHtmlImage from '../../../../public/projects/causeway/intro-to-html.png'
import FormattingImage from '../../../../public/projects/causeway/formatting.png'
import TextStylesImage from '../../../../public/projects/causeway/text-styles.png'

# Causeway: Learning Through Micro-role Heirarchies

## Overview
- **Date:** 2018-2020
- **Technologies Used:** Angular, Rxjs, Typescript, HTML, CSS
- **Live Link:** [View Project](https://causeway.soe.ucsc.edu/#/)

## Description
Throughout my time in the Tech4good Lab, I have worked on development for numerous projects, but I have invested most of my time in the development of Causeway, the lab's flagship platform. Causeway is built to teach the highly applicable skill of web development (regardless of whether or not the user has a computer science background) while simultaneously contributing to a real world project for a community cause (like a non-profit). Through Causeway, we hope to redefine the typical learning experience to more closely represent that of a workplace, where most learning occurs while building whatever product the company needs built. A paper published about Causeway's micro-role hierarchy and scaling situated learning won [best paper honorable mention](https://tech4good.soe.ucsc.edu/assets/docs/chi-2019-ca.pdf) and there is another paper in the works more around the effectiveness of "doing-by-learning" (i.e. building something as you learn).

## Key Contributions
I've been working on Causeway since Fall quarter (2018), and in that time have been able to help make some significant contributions to the actual development of Causeway as well as planning it's direction, iterating on it's design, and testing it with users. Some of my most significant contributions include helping David (the professor in charge of the Tech4good Lab) plan the core interfaces, creating and maintaining the Stackblitz interface, creating and maintaining examples for learning via Github and usability testing the user interface (all explained in more depth below). I also had the privilage of leading a team tasked with final preparations before a major beta release to David's CSE 175 class (~155 students) and debugging and troubleshooting issues students had with Causeway (of which there were surprisingly few!)

### Classroom vs. Studio: Causeway's core interfaces
As a research fellow for the Tech4good lab during summer 2019, I worked closely with David, another other fellow, and a phd student to define the research question for Causeway. We ended up coming to a consensus that the best way to test whether doing-by-learning was more effective than traditional learning, was to build both into Causeway and have users follow different pathways. "Classroom" was to be designed for a more traditional learning approach while "Studio" would be designed to implement the more radical doing-by-learning approach we want to test. After that was designed, the other fellow and I were tasked with designing and thinking through the interfaces for both classroom and studio (which was really fun because I had never done design or UX things before then). After some iteration, we had a design that David approved and we got to work building the classroom workspace. The main feature we wanted to make sure existed in classroom was an "answer" for a user to look at and learn what they did incorrectly or differently (something we figured was one of the main aspects of being in a classroom). We chose to do this by using the well known in-browser IDE, Stackblitz since they have an sdk through npm. That ended up being a very large project between setting up the actual examples (see Scripting with the Github API) and setting up the Stackblitz embeds in a way that the various errors that seemed to pop up (turns out Stackblitz isn't particularly reliable yet) wouldn't ruin the user's experience on Causeway (see Stackblitz Services for Reliability and Performance Improvements).

### Stackblitz Services for Reliability and Performance Improvements
After realizing the instability of Stackblitz, I was tasked with figuring out how to a) make it more reliable and b) make it do what we wanted it to do with it's limited documentation. In Angular, there are special files you can generate called "services" that allow you to inject code into other components that will run for the life of the application (unless you stop it). These were perfect because they allowed me to seperate out the complicated (and sometimes hacky) logic of embedding a Stackblitz instance into Causeway, handling the errors, and saving a user's code. I ended up making two seperate services, one for classroom and the other for studio. The classroom service needed to be able to handle two embeds and keep seperate state for each of them as well as handle when the user should be allowed to move on, what files with what content the user should be shown initially, etc. The studio service on the other hand, only needed one embed, but had the added complexity of needing to walk the user through setting up the embed so that we could have access to their instance of the embed so that we could save and commit their code to Github through Causeway in addition to handling all of the edge cases where the user messes up the setup (which seemed to be a lot). In a previous version of Causeway (for the first paper), David had tried to use the Stackblitz API to help users contribute to building the static webpages. Unfortunately, it was so slow to embed and failed so often, that it was basically unusable and the users ended up having to code by cloning the repo locally, installing node, angular, and node_modules, turning the relatively simplified process of coding a view into a extremely long and frustrating (sometimes insurmountable) task for a brand new coder. With the error handling from the two services and the performance improvements over the old version, the services I built were able to handle the ~150 students in CSE 175 with 90% of them experiencing no problems (and the 10% that did experienced minor problems).

### Scripting with the Github API
In the classroom part of Causeway, the user follows a step-by-step workflow that teaches them the thought process of how to build a component as well as the actual information to do it. In order to make the action step (the one where the user writes code in the Stackblitz embed) we needed both a starting point for the user (from the previous step) and an ending point (where they should end up). Stackblitz allows to embed from a commit sha, so the other fellow and I got to work building different components, step-by-step, where each "step" was a unique commit sha on the Github repo. After some usability tests, we found some bugs in the components we had built and we wanted to fix them. We quickly realized we had a problem... the commit shas were EXTREMELY hard to keep track of. Our process was: check out the commit sha with the error, fix the error, make a commit, make a branch, then go to a google sheet, update it there, then from the google sheet manually update the database. Not only was it inefficient, but it was extraordinarily unscalable (and at that point we literally had 1500 branches). Okay, so that was a learning moment, but I knew that the way we had everything set up right now was just not going to cut it. I took it upon myself to figure out how to not only fix the process as it was now, but make it accessible and scalable so future lab members could fix problems without becoming totally confused. I started by defining a strict structure which I won't really go into, but the basis was that since the roles build on each other and are sequential, we should utilize the fact that Github is literally built around the concept of a tree and have the structure of the commit shas match the mental model of Causeway's roles. So that solved the issue of not knowing where to find the commit for a component and had the added bonus of some flexibility for upgrades in the future (if we wanted to upgrade the app in the future, then all we had to do was commit to master and then recursively rebase all of the causeway roles onto that parent branch), but we still had the issue of needing to copy and paste from google sheet to database. To solve that problem, I wrote a script in Typescript that used the Github API to grab the commit shas from each roles and then in turn write them directly to the database, effectively taking human error out of the equation. Now with the processes in place, it is extremely easy to edit each step (using a bit of interactive rebasing) and is ready to be scaled for future roles as Causeway grows.

### Usability (UX) Testing
Since last summer, I have conducted regular usability tests on Causeway. During fall quarter (2019), I lead a team of 3 usability testing Causeway's classroom interface. When I say usability testing, I really mean some combination between QA and UX testing where we sit with the user and observe them using the app. Since most of Causeway's actual tasks involve actually learning, much of the usability test is watching for pitfalls in both the interface and the learning process (like wording of the guides). Usually after the usability test (~2hrs long), I conduct a short interview to try and clarify confusion I saw, things that they didn't like, or other miscallaneous topics relating to their experience and our biggest risks we had defined going into the test. Then once the participant leaves, the team discusses some observations and determines what issues that need to be addressed. Then we rank all of the issues on a scale of 1-4 according to the severity of the violations. We use the scale portrayed in this article with 1 being cosmetic and 4 being a catastrophic issue where the user got stuck in the flow. Finally, we go to the Github project board, create issues, and prioritize them based on what the biggest risk is for the app at that point in time.

## Screenshots
        <ImageSlider imageUrls={[]} images={[LandingImage, Landing2Image, IntroToHtmlImage, FormattingImage, TextStylesImage]} />


## Credits and Acknowledgements
- Mostly to David Lee for giving me this experience, but also to the other students around me who helped me learn and grow as a developer and a person.
